/*! For license information please see goormlevel.js.LICENSE.txt */
(()=>{var __webpack_modules__={668:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var root="object"==typeof window?window:{},NODE_JS=!root.JS_SHA1_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS&&(root=__webpack_require__.g);var COMMON_JS=!root.JS_SHA1_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[],createOutputMethod=function(t){return function(e){return new Sha1(!0).update(e)[t]()}},createMethod=function(){var t=createOutputMethod("hex");NODE_JS&&(t=nodeWrap(t)),t.create=function(){return new Sha1},t.update=function(e){return t.create().update(e)};for(var e=0;e<OUTPUT_TYPES.length;++e){var i=OUTPUT_TYPES[e];t[i]=createOutputMethod(i)}return t},nodeWrap=function(method){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),nodeMethod=function(t){if("string"==typeof t)return crypto.createHash("sha1").update(t,"utf8").digest("hex");if(t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(void 0===t.length)return method(t);return crypto.createHash("sha1").update(new Buffer(t)).digest("hex")};return nodeMethod};function Sha1(t){t?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],this.h0=1732584193,this.h1=4023233417,this.h2=2562383102,this.h3=271733878,this.h4=3285377520,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}Sha1.prototype.update=function(t){if(!this.finalized){var e="string"!=typeof t;e&&t.constructor===root.ArrayBuffer&&(t=new Uint8Array(t));for(var i,r,s=0,n=t.length||0,o=this.blocks;s<n;){if(this.hashed&&(this.hashed=!1,o[0]=this.block,o[16]=o[1]=o[2]=o[3]=o[4]=o[5]=o[6]=o[7]=o[8]=o[9]=o[10]=o[11]=o[12]=o[13]=o[14]=o[15]=0),e)for(r=this.start;s<n&&r<64;++s)o[r>>2]|=t[s]<<SHIFT[3&r++];else for(r=this.start;s<n&&r<64;++s)(i=t.charCodeAt(s))<128?o[r>>2]|=i<<SHIFT[3&r++]:i<2048?(o[r>>2]|=(192|i>>6)<<SHIFT[3&r++],o[r>>2]|=(128|63&i)<<SHIFT[3&r++]):i<55296||i>=57344?(o[r>>2]|=(224|i>>12)<<SHIFT[3&r++],o[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&i)<<SHIFT[3&r++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++s)),o[r>>2]|=(240|i>>18)<<SHIFT[3&r++],o[r>>2]|=(128|i>>12&63)<<SHIFT[3&r++],o[r>>2]|=(128|i>>6&63)<<SHIFT[3&r++],o[r>>2]|=(128|63&i)<<SHIFT[3&r++]);this.lastByteIndex=r,this.bytes+=r-this.start,r>=64?(this.block=o[16],this.start=r-64,this.hash(),this.hashed=!0):this.start=r}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296|0,this.bytes=this.bytes%4294967296),this}},Sha1.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[16]=this.block,t[e>>2]|=EXTRA[3&e],this.block=t[16],e>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},Sha1.prototype.hash=function(){var t,e,i=this.h0,r=this.h1,s=this.h2,n=this.h3,o=this.h4,h=this.blocks;for(t=16;t<80;++t)e=h[t-3]^h[t-8]^h[t-14]^h[t-16],h[t]=e<<1|e>>>31;for(t=0;t<20;t+=5)i=(e=(r=(e=(s=(e=(n=(e=(o=(e=i<<5|i>>>27)+(r&s|~r&n)+o+1518500249+h[t]|0)<<5|o>>>27)+(i&(r=r<<30|r>>>2)|~i&s)+n+1518500249+h[t+1]|0)<<5|n>>>27)+(o&(i=i<<30|i>>>2)|~o&r)+s+1518500249+h[t+2]|0)<<5|s>>>27)+(n&(o=o<<30|o>>>2)|~n&i)+r+1518500249+h[t+3]|0)<<5|r>>>27)+(s&(n=n<<30|n>>>2)|~s&o)+i+1518500249+h[t+4]|0,s=s<<30|s>>>2;for(;t<40;t+=5)i=(e=(r=(e=(s=(e=(n=(e=(o=(e=i<<5|i>>>27)+(r^s^n)+o+1859775393+h[t]|0)<<5|o>>>27)+(i^(r=r<<30|r>>>2)^s)+n+1859775393+h[t+1]|0)<<5|n>>>27)+(o^(i=i<<30|i>>>2)^r)+s+1859775393+h[t+2]|0)<<5|s>>>27)+(n^(o=o<<30|o>>>2)^i)+r+1859775393+h[t+3]|0)<<5|r>>>27)+(s^(n=n<<30|n>>>2)^o)+i+1859775393+h[t+4]|0,s=s<<30|s>>>2;for(;t<60;t+=5)i=(e=(r=(e=(s=(e=(n=(e=(o=(e=i<<5|i>>>27)+(r&s|r&n|s&n)+o-1894007588+h[t]|0)<<5|o>>>27)+(i&(r=r<<30|r>>>2)|i&s|r&s)+n-1894007588+h[t+1]|0)<<5|n>>>27)+(o&(i=i<<30|i>>>2)|o&r|i&r)+s-1894007588+h[t+2]|0)<<5|s>>>27)+(n&(o=o<<30|o>>>2)|n&i|o&i)+r-1894007588+h[t+3]|0)<<5|r>>>27)+(s&(n=n<<30|n>>>2)|s&o|n&o)+i-1894007588+h[t+4]|0,s=s<<30|s>>>2;for(;t<80;t+=5)i=(e=(r=(e=(s=(e=(n=(e=(o=(e=i<<5|i>>>27)+(r^s^n)+o-899497514+h[t]|0)<<5|o>>>27)+(i^(r=r<<30|r>>>2)^s)+n-899497514+h[t+1]|0)<<5|n>>>27)+(o^(i=i<<30|i>>>2)^r)+s-899497514+h[t+2]|0)<<5|s>>>27)+(n^(o=o<<30|o>>>2)^i)+r-899497514+h[t+3]|0)<<5|r>>>27)+(s^(n=n<<30|n>>>2)^o)+i-899497514+h[t+4]|0,s=s<<30|s>>>2;this.h0=this.h0+i|0,this.h1=this.h1+r|0,this.h2=this.h2+s|0,this.h3=this.h3+n|0,this.h4=this.h4+o|0},Sha1.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,i=this.h2,r=this.h3,s=this.h4;return HEX_CHARS[t>>28&15]+HEX_CHARS[t>>24&15]+HEX_CHARS[t>>20&15]+HEX_CHARS[t>>16&15]+HEX_CHARS[t>>12&15]+HEX_CHARS[t>>8&15]+HEX_CHARS[t>>4&15]+HEX_CHARS[15&t]+HEX_CHARS[e>>28&15]+HEX_CHARS[e>>24&15]+HEX_CHARS[e>>20&15]+HEX_CHARS[e>>16&15]+HEX_CHARS[e>>12&15]+HEX_CHARS[e>>8&15]+HEX_CHARS[e>>4&15]+HEX_CHARS[15&e]+HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[r>>28&15]+HEX_CHARS[r>>24&15]+HEX_CHARS[r>>20&15]+HEX_CHARS[r>>16&15]+HEX_CHARS[r>>12&15]+HEX_CHARS[r>>8&15]+HEX_CHARS[r>>4&15]+HEX_CHARS[15&r]+HEX_CHARS[s>>28&15]+HEX_CHARS[s>>24&15]+HEX_CHARS[s>>20&15]+HEX_CHARS[s>>16&15]+HEX_CHARS[s>>12&15]+HEX_CHARS[s>>8&15]+HEX_CHARS[s>>4&15]+HEX_CHARS[15&s]},Sha1.prototype.toString=Sha1.prototype.hex,Sha1.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,i=this.h2,r=this.h3,s=this.h4;return[t>>24&255,t>>16&255,t>>8&255,255&t,e>>24&255,e>>16&255,e>>8&255,255&e,i>>24&255,i>>16&255,i>>8&255,255&i,r>>24&255,r>>16&255,r>>8&255,255&r,s>>24&255,s>>16&255,s>>8&255,255&s]},Sha1.prototype.array=Sha1.prototype.digest,Sha1.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(20),e=new DataView(t);return e.setUint32(0,this.h0),e.setUint32(4,this.h1),e.setUint32(8,this.h2),e.setUint32(12,this.h3),e.setUint32(16,this.h4),t};var exports=createMethod();COMMON_JS?module.exports=exports:(root.sha1=exports,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()}},__webpack_module_cache__={};function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;var i=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](i,i.exports,__webpack_require__),i.exports}__webpack_require__.amdO={},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}();var __webpack_exports__={};(()=>{"use strict";__webpack_require__(668);const t=Object.freeze({NUMBER:Symbol("NUMBER"),IDENTIFIER:Symbol("IDENTIFIER"),OPERATOR:Symbol("OPERATOR"),LEFT_PAREN:Symbol("LEFT_PAREN"),RIGHT_PAREN:Symbol("RIGHT_PAREN"),LEFT_BRACKET:Symbol("LEFT_BRACKET"),RIGHT_BRACKET:Symbol("RIGHT_BRACKET"),LEFT_BRACE:Symbol("LEFT_BRACE"),RIGHT_BRACE:Symbol("RIGHT_BRACE"),COLON:Symbol("COLON"),COMMA:Symbol("COMMA"),DOT:Symbol("DOT"),STRING:Symbol("STRING"),BOOLEAN:Symbol("BOOLEAN"),NULL:Symbol("NULL"),EOF:Symbol("EOF")}),e=Object.freeze({NUMBER:Symbol("NUMBER"),VARIABLE:Symbol("VARIABLE"),BINARY_OP:Symbol("BINARY_OP"),UNARY_OP:Symbol("UNARY_OP"),FUNCTION_CALL:Symbol("FUNCTION_CALL"),ARRAY_ACCESS:Symbol("ARRAY_ACCESS"),PROPERTY_ACCESS:Symbol("PROPERTY_ACCESS"),TERNARY_OP:Symbol("TERNARY_OP"),ARRAY_LITERAL:Symbol("ARRAY_LITERAL"),OBJECT_LITERAL:Symbol("OBJECT_LITERAL"),NULL:Symbol("NULL")});class i{constructor(t,e){this.type=t,this.value=e}}class r{constructor(t){this.input=t,this.position=0}nextToken(){if(this.skipWhitespace(),this.position>=this.input.length)return new i(t.EOF,null);const e=this.input[this.position];let r;if("="===e&&"="===this.input[this.position+1]&&"="===this.input[this.position+2])this.advance(),this.advance(),this.advance(),r=new i(t.OPERATOR,"===");else if("!"===e&&"="===this.input[this.position+1]&&"="===this.input[this.position+2])this.advance(),this.advance(),this.advance(),r=new i(t.OPERATOR,"!==");else if("="===e&&"="===this.input[this.position+1])this.advance(),this.advance(),r=new i(t.OPERATOR,"==");else if("!"===e&&"="===this.input[this.position+1])this.advance(),this.advance(),r=new i(t.OPERATOR,"!=");else if("<"===e&&"="===this.input[this.position+1])this.advance(),this.advance(),r=new i(t.OPERATOR,"<=");else if(">"===e&&"="===this.input[this.position+1])this.advance(),this.advance(),r=new i(t.OPERATOR,">=");else if("&"===e&&"&"===this.input[this.position+1])this.advance(),this.advance(),r=new i(t.OPERATOR,"&&");else if("|"===e&&"|"===this.input[this.position+1])this.advance(),this.advance(),r=new i(t.OPERATOR,"||");else if(this.isDigit(e))r=this.readNumber();else if(this.isAlpha(e))r=this.readIdentifier();else if(this.isOperator(e))r=new i(t.OPERATOR,this.advance());else if("("===e)r=new i(t.LEFT_PAREN,this.advance());else if(")"===e)r=new i(t.RIGHT_PAREN,this.advance());else if("["===e)r=new i(t.LEFT_BRACKET,this.advance());else if("]"===e)r=new i(t.RIGHT_BRACKET,this.advance());else if(","===e)r=new i(t.COMMA,this.advance());else if("."===e)r=new i(t.DOT,this.advance());else if("?"===e)r=new i(t.OPERATOR,this.advance());else if(":"===e)r=new i(t.COLON,this.advance());else if("{"===e)r=new i(t.LEFT_BRACE,this.advance());else if("}"===e)r=new i(t.RIGHT_BRACE,this.advance());else{if("'"!==e&&'"'!==e)throw new Error(`Unexpected character: ${e}`);r=this.readString(e)}return r}readNumber(){let e="",r=!1;for(;this.position<this.input.length;){const t=this.input[this.position];if(this.isDigit(t))e+=this.advance();else{if("."!==t)break;if(r)throw new Error(`Invalid number format: multiple decimal points in ${e+t}`);r=!0,e+=this.advance()}}return new i(t.NUMBER,parseFloat(e))}readIdentifier(){let e="";for(;this.position<this.input.length&&(this.isAlpha(this.input[this.position])||this.isDigit(this.input[this.position]));)e+=this.advance();return"true"===e?new i(t.BOOLEAN,!0):"false"===e?new i(t.BOOLEAN,!1):"null"===e?new i(t.NULL,null):new i(t.IDENTIFIER,e)}readString(e){let r="";for(this.advance();this.position<this.input.length&&this.input[this.position]!==e;)r+=this.advance();return this.advance(),new i(t.STRING,r)}isDigit(t){return t>="0"&&t<="9"}isAlpha(t){return t>="a"&&t<="z"||t>="A"&&t<="Z"||"_"===t}isOperator(t){return["+","-","*","/","%","^","<",">","!"].includes(t)}skipWhitespace(){for(;this.position<this.input.length&&/\s/.test(this.input[this.position]);)this.position++}advance(){return this.input[this.position++]}}class s{constructor(t){this.lexer=t,this.currentToken=this.lexer.nextToken()}parse(){const e=this.expression();if(this.currentToken.type!==t.EOF)throw new Error(`Unexpected token: ${this.currentToken.value}`);return e}expression(){return this.conditional()}conditional(){let i=this.logicalOr();if(this.currentToken.type===t.OPERATOR&&"?"===this.currentToken.value){this.eat(t.OPERATOR);const r=this.expression();this.eat(t.COLON);const s=this.expression();i={type:e.TERNARY_OP,condition:i,trueExpr:r,falseExpr:s}}return i}logicalOr(){let i=this.logicalAnd();for(;this.currentToken.type===t.OPERATOR&&"||"===this.currentToken.value;){const r=this.currentToken;this.eat(t.OPERATOR),i={type:e.BINARY_OP,left:i,op:r.value,right:this.logicalAnd()}}return i}logicalAnd(){let i=this.comparison();for(;this.currentToken.type===t.OPERATOR&&"&&"===this.currentToken.value;){const r=this.currentToken;this.eat(t.OPERATOR),i={type:e.BINARY_OP,left:i,op:r.value,right:this.comparison()}}return i}comparison(){let i=this.additive();for(;this.currentToken.type===t.OPERATOR&&["==","!=","<","<=",">",">=","===","!=="].includes(this.currentToken.value);){const r=this.currentToken;this.eat(t.OPERATOR),i={type:e.BINARY_OP,left:i,op:r.value,right:this.additive()}}return i}additive(){let i=this.multiplicative();for(;this.currentToken.type===t.OPERATOR&&("+"===this.currentToken.value||"-"===this.currentToken.value);){const r=this.currentToken;this.eat(t.OPERATOR),i={type:e.BINARY_OP,left:i,op:r.value,right:this.multiplicative()}}return i}multiplicative(){let i=this.exponential();for(;this.currentToken.type===t.OPERATOR&&("*"===this.currentToken.value||"/"===this.currentToken.value||"%"===this.currentToken.value);){const r=this.currentToken;this.eat(t.OPERATOR),i={type:e.BINARY_OP,left:i,op:r.value,right:this.exponential()}}return i}exponential(){let i=this.unary();for(;this.currentToken.type===t.OPERATOR&&"^"===this.currentToken.value;){const r=this.currentToken;this.eat(t.OPERATOR),i={type:e.BINARY_OP,left:i,op:r.value,right:this.unary()}}return i}unary(){let i;if(this.currentToken.type!==t.OPERATOR||"+"!==this.currentToken.value&&"-"!==this.currentToken.value&&"!"!==this.currentToken.value)i=this.primary();else{const r=this.currentToken;this.eat(t.OPERATOR),i={type:e.UNARY_OP,op:r.value,expr:this.unary()}}for(;;)if(this.currentToken.type===t.DOT){if(this.eat(t.DOT),this.currentToken.type!==t.IDENTIFIER)throw new Error("Expected property name after '.'");i={type:e.PROPERTY_ACCESS,object:i,property:this.currentToken.value},this.eat(t.IDENTIFIER)}else if(this.currentToken.type===t.LEFT_BRACKET)i=this.arrayAccess(i);else{if(this.currentToken.type!==t.LEFT_PAREN)break;{this.eat(t.LEFT_PAREN);const r=this.argumentList();this.eat(t.RIGHT_PAREN),i={type:e.FUNCTION_CALL,callee:i,arguments:r}}}return i}primary(){let i;if(this.currentToken.type===t.NUMBER){const r=this.currentToken;this.eat(t.NUMBER),i={type:e.NUMBER,value:r.value}}else if(this.currentToken.type===t.STRING){const r=this.currentToken;this.eat(t.STRING),i={type:e.STRING,value:r.value}}else if(this.currentToken.type===t.BOOLEAN){const r=this.currentToken;this.eat(t.BOOLEAN),i={type:e.BOOLEAN,value:r.value}}else if(this.currentToken.type===t.NULL)this.currentToken,this.eat(t.NULL),i={type:e.NULL,value:null};else if(this.currentToken.type===t.IDENTIFIER){const r=this.currentToken;this.eat(t.IDENTIFIER),i={type:e.VARIABLE,name:r.value}}else if(this.currentToken.type===t.LEFT_PAREN)this.eat(t.LEFT_PAREN),i=this.expression(),this.eat(t.RIGHT_PAREN);else if(this.currentToken.type===t.LEFT_BRACKET)i=this.parseArrayLiteral();else{if(this.currentToken.type!==t.LEFT_BRACE)throw new Error(`Unexpected token: ${this.currentToken.value}`);i=this.parseObjectLiteral()}return i}argumentList(){const e=[];if(this.currentToken.type!==t.RIGHT_PAREN)for(e.push(this.expression());this.currentToken.type===t.COMMA;)this.eat(t.COMMA),e.push(this.expression());return e}arrayAccess(i){this.eat(t.LEFT_BRACKET);const r=this.expression();return this.eat(t.RIGHT_BRACKET),{type:e.ARRAY_ACCESS,array:i,index:r}}parseArrayLiteral(){this.eat(t.LEFT_BRACKET);const i=[];if(this.currentToken.type!==t.RIGHT_BRACKET)for(i.push(this.expression());this.currentToken.type===t.COMMA;)this.eat(t.COMMA),i.push(this.expression());return this.eat(t.RIGHT_BRACKET),{type:e.ARRAY_LITERAL,elements:i}}parseObjectLiteral(){this.eat(t.LEFT_BRACE);const i=[];if(this.currentToken.type===t.RIGHT_BRACE)return this.eat(t.RIGHT_BRACE),{type:e.OBJECT_LITERAL,properties:i};let r;if(this.currentToken.type===t.IDENTIFIER)r=this.currentToken.value,this.eat(t.IDENTIFIER);else if(this.currentToken.type===t.STRING)r=this.currentToken.value,this.eat(t.STRING);else{if(this.currentToken.type!==t.NUMBER)throw new Error(`Expected identifier, string, or number for object key, got ${this.currentToken.type.description}`);r=this.currentToken.value.toString(),this.eat(t.NUMBER)}this.eat(t.COLON);const s=this.expression();for(i.push({key:r,value:s});this.currentToken.type===t.COMMA&&(this.eat(t.COMMA),this.currentToken.type!==t.RIGHT_BRACE);){if(this.currentToken.type===t.IDENTIFIER)r=this.currentToken.value,this.eat(t.IDENTIFIER);else if(this.currentToken.type===t.STRING)r=this.currentToken.value,this.eat(t.STRING);else{if(this.currentToken.type!==t.NUMBER)throw new Error(`Expected identifier, string, or number for object key after comma, got ${this.currentToken.type.description}`);r=this.currentToken.value.toString(),this.eat(t.NUMBER)}this.eat(t.COLON);const e=this.expression();i.push({key:r,value:e})}return this.eat(t.RIGHT_BRACE),{type:e.OBJECT_LITERAL,properties:i}}eat(t){if(this.currentToken.type!==t)throw new Error(`Expected ${t.description}, got ${this.currentToken.type.description}`);this.currentToken=this.lexer.nextToken()}}class n{constructor(t,e,i={}){this.tree=t,this.data=e,this.allowedFunctions=i}interpret(){return this.visit(this.tree)}visit(t){switch(t.type){case e.NUMBER:case e.STRING:case e.BOOLEAN:return t.value;case e.NULL:return null;case e.TERNARY_OP:return this.visit(t.condition)?this.visit(t.trueExpr):this.visit(t.falseExpr);case e.ARRAY_LITERAL:return t.elements.map(t=>this.visit(t));case e.OBJECT_LITERAL:const i={};return t.properties.forEach(t=>{i[t.key]=this.visit(t.value)}),i;case e.VARIABLE:return this.getValueFromData(t.name,this.data);case e.BINARY_OP:return this.visitBinaryOp(t);case e.UNARY_OP:return this.visitUnaryOp(t);case e.FUNCTION_CALL:return this.visitFunctionCall(t);case e.ARRAY_ACCESS:return this.visitArrayAccess(t);case e.PROPERTY_ACCESS:return this.visitPropertyAccess(t);default:throw new Error(`Unknown node type: ${t.type}`)}}visitArrayAccess(t){const e=this.visit(t.array),i=this.visit(t.index);if(Array.isArray(e)){if("number"!=typeof i||i<0||i>=e.length)return;return e[i]}if("object"==typeof e&&null!==e&&("string"==typeof i||"number"==typeof i)){const t=String(i);return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}}visitPropertyAccess(t){const e=this.visit(t.object),i=t.property;if("string"==typeof e){if("length"===i)return e.length;if("function"==typeof String.prototype[i])return(...t)=>e[i](...t);throw new Error(`Cannot access property '${i}' of "${e}"`)}if(null!=e&&"number"!=typeof e&&"boolean"!=typeof e)return"object"==typeof e&&e.hasOwnProperty(i)?e[i]:void 0}visitBinaryOp(t){if("&&"===t.op)return this.visit(t.left)&&this.visit(t.right);if("||"===t.op)return this.visit(t.left)||this.visit(t.right);const e=this.visit(t.left),i=this.visit(t.right);switch(t.op){case"+":return e+i;case"-":return e-i;case"*":return e*i;case"/":return e/i;case"%":return e%i;case"^":return Math.pow(e,i);case"==":return e==i;case"===":return e===i;case"!=":return e!=i;case"!==":return e!==i;case"<":return e<i;case"<=":return e<=i;case">":return e>i;case">=":return e>=i;default:throw new Error(`Unknown operator: ${t.op}`)}}visitUnaryOp(t){const e=this.visit(t.expr);switch(t.op){case"+":return+e;case"-":return-e;case"!":return!e;default:throw new Error(`Unknown unary operator: ${t.op}`)}}visitFunctionCall(t){let i;const r=t.arguments.map(t=>this.visit(t));if(t.callee.type===e.VARIABLE){const e=t.callee.name;switch(e.toLowerCase()){case"min":i=Math.min;break;case"max":i=Math.max;break;case"abs":i=Math.abs;break;case"round":i=Math.round;break;case"floor":i=Math.floor;break;case"ceil":i=Math.ceil;break;default:i=this.allowedFunctions[e]}}else i=this.visit(t.callee);if("function"==typeof i)return i(...r);throw new Error(`Unknown function or non-callable: ${JSON.stringify(t.callee.name||i)}`)}getValueFromData(t,e){if(e&&e.hasOwnProperty(t))return e[t];throw new Error(`Undefined variable: ${t}`)}}function o(t,e,i={}){return t.replace(/\{\{(.+?)\}\}/g,(t,o)=>{try{const t=new r(o.trim()),h=new s(t).parse();return new n(h,e,i).interpret()}catch(e){return console.error(`Error evaluating expression: ${o}`,e),t}})}"undefined"!=typeof module&&module.exports?module.exports={parseTemplateString:o,TokenType:t,ASTNodeType:e,Token:i,Lexer:r,Parser:s,Interpreter:n}:"undefined"!=typeof exports?(exports.parseTemplateString=o,exports.TokenType=t,exports.ASTNodeType=e,exports.Token=i,exports.Lexer=r,exports.Parser=s,exports.Interpreter=n):"function"==typeof define&&define.amd?define([],function(){return{parseTemplateString:o,TokenType:t,ASTNodeType:e,Token:i,Lexer:r,Parser:s,Interpreter:n}}):"undefined"!=typeof window&&(window.parseTemplateString=o,window.TokenType=t,window.ASTNodeType=e,window.Token=i,window.Lexer=r,window.Parser=s,window.Interpreter=n)})()})();